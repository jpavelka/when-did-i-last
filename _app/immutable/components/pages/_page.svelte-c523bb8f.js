import{S as re,i as ue,s as oe,k as g,q as B,a as O,l as $,m as U,r as V,h as f,c as C,n as D,b as A,F as u,G as z,u as le,E as J,R as be,T as De,e as Ue,f as H,g as Fe,t as W,d as Re,L as Je,M as Ke,N as Ze,O as xe,U as ve,V as et,w as Z,x,y as ee,z as te,Q as ce,j as ge,H as ie,I as He,W as pe,p as tt,X as Ne,Y as lt}from"../../chunks/index-9a71f3bc.js";import{e as $e,g as ke,h as Me,i as We,j as ze,k as Ge,a as Qe,m as st,s as Xe,d as Ye,t as de,C as nt,l as at,f as _e,n as it}from"../../chunks/index-79c48882.js";const fe=s=>`${s.slice(0,4)}-${s.slice(4,6)}-${s.slice(6,8)}`;function qe(s){let e,a,t=fe(s[0].history[s[0].history.length-1])+"",n;return{c(){e=g("div"),a=B("Last: "),n=B(t),this.h()},l(i){e=$(i,"DIV",{class:!0});var l=U(e);a=V(l,"Last: "),n=V(l,t),l.forEach(f),this.h()},h(){D(e,"class","lastNext svelte-1rrhigf")},m(i,l){A(i,e,l),u(e,a),u(e,n)},p(i,l){l&1&&t!==(t=fe(i[0].history[i[0].history.length-1])+"")&&le(n,t)},d(i){i&&f(e)}}}function Oe(s){let e,a,t=fe(s[0].scheduled[0])+"",n;return{c(){e=g("div"),a=B("Next: "),n=B(t),this.h()},l(i){e=$(i,"DIV",{class:!0});var l=U(e);a=V(l,"Next: "),n=V(l,t),l.forEach(f),this.h()},h(){D(e,"class","lastNext svelte-1rrhigf"),De(e,"overdue",s[1]>=s[0].scheduled[0])},m(i,l){A(i,e,l),u(e,a),u(e,n)},p(i,l){l&1&&t!==(t=fe(i[0].scheduled[0])+"")&&le(n,t),l&3&&De(e,"overdue",i[1]>=i[0].scheduled[0])},d(i){i&&f(e)}}}function rt(s){let e,a,t=s[0].name+"",n,i,l,r,o,m,p,h,c,d,S,I,_,y,k,v=s[0].history.length>0&&qe(s),E=s[0].scheduled.length>0&&Oe(s);return{c(){e=g("div"),a=g("div"),n=B(t),i=O(),v&&v.c(),l=O(),E&&E.c(),r=O(),o=g("div"),m=g("button"),p=B("Edit"),h=O(),c=g("button"),d=B("Complete"),S=O(),I=g("button"),_=B("Schedule"),this.h()},l(N){e=$(N,"DIV",{class:!0});var q=U(e);a=$(q,"DIV",{class:!0});var P=U(a);n=V(P,t),P.forEach(f),i=C(q),v&&v.l(q),l=C(q),E&&E.l(q),r=C(q),o=$(q,"DIV",{});var w=U(o);m=$(w,"BUTTON",{class:!0});var K=U(m);p=V(K,"Edit"),K.forEach(f),h=C(w),c=$(w,"BUTTON",{class:!0});var b=U(c);d=V(b,"Complete"),b.forEach(f),S=C(w),I=$(w,"BUTTON",{class:!0});var T=U(I);_=V(T,"Schedule"),T.forEach(f),w.forEach(f),q.forEach(f),this.h()},h(){D(a,"class","taskName svelte-1rrhigf"),D(m,"class","svelte-1rrhigf"),D(c,"class","svelte-1rrhigf"),D(I,"class","svelte-1rrhigf"),D(e,"class","taskWrapper svelte-1rrhigf")},m(N,q){A(N,e,q),u(e,a),u(a,n),u(e,i),v&&v.m(e,null),u(e,l),E&&E.m(e,null),u(e,r),u(e,o),u(o,m),u(m,p),u(o,h),u(o,c),u(c,d),u(o,S),u(o,I),u(I,_),y||(k=[z(m,"click",s[2]),z(c,"click",s[3]),z(I,"click",s[4])],y=!0)},p(N,[q]){q&1&&t!==(t=N[0].name+"")&&le(n,t),N[0].history.length>0?v?v.p(N,q):(v=qe(N),v.c(),v.m(e,l)):v&&(v.d(1),v=null),N[0].scheduled.length>0?E?E.p(N,q):(E=Oe(N),E.c(),E.m(e,r)):E&&(E.d(1),E=null)},i:J,o:J,d(N){N&&f(e),v&&v.d(),E&&E.d(),y=!1,be(k)}}}function ut(s,e,a){let{task:t}=e;const i=new Date().toISOString().slice(0,10).replaceAll("-",""),l=()=>{$e.update(()=>t),ke.update(()=>!0)},r=()=>{Me.update(()=>t),We.update(()=>!0)},o=()=>{ze.update(()=>t),Ge.update(()=>!0)};return s.$$set=m=>{"task"in m&&a(0,t=m.task)},[t,i,l,r,o]}class ot extends re{constructor(e){super(),ue(this,e,ut,rt,oe,{task:0})}}function Ce(s){let e,a,t,n,i,l,r,o,m;const p=s[4].default,h=Je(p,s,s[3],null);return{c(){e=g("div"),a=g("div"),h&&h.c(),t=O(),n=g("div"),i=g("button"),l=B("Close"),this.h()},l(c){e=$(c,"DIV",{class:!0});var d=U(e);a=$(d,"DIV",{class:!0});var S=U(a);h&&h.l(S),t=C(S),n=$(S,"DIV",{});var I=U(n);i=$(I,"BUTTON",{});var _=U(i);l=V(_,"Close"),_.forEach(f),I.forEach(f),S.forEach(f),d.forEach(f),this.h()},h(){D(a,"class","modalContent svelte-1qejjfe"),D(e,"class","modalBackground svelte-1qejjfe")},m(c,d){A(c,e,d),u(e,a),h&&h.m(a,null),u(a,t),u(a,n),u(n,i),u(i,l),r=!0,o||(m=z(i,"click",s[2]),o=!0)},p(c,d){h&&h.p&&(!r||d&8)&&Ke(h,p,c,c[3],r?xe(p,c[3],d,null):Ze(c[3]),null)},i(c){r||(H(h,c),r=!0)},o(c){W(h,c),r=!1},d(c){c&&f(e),h&&h.d(c),o=!1,m()}}}function ct(s){let e,a,t=s[1]&&Ce(s);return{c(){t&&t.c(),e=Ue()},l(n){t&&t.l(n),e=Ue()},m(n,i){t&&t.m(n,i),A(n,e,i),a=!0},p(n,[i]){n[1]?t?(t.p(n,i),i&2&&H(t,1)):(t=Ce(n),t.c(),H(t,1),t.m(e.parentNode,e)):t&&(Fe(),W(t,1,1,()=>{t=null}),Re())},i(n){a||(H(t),a=!0)},o(n){W(t),a=!1},d(n){t&&t.d(n),n&&f(e)}}}function dt(s,e,a){let t,n=J,i=()=>(n(),n=ve(o,p=>a(1,t=p)),o);s.$$.on_destroy.push(()=>n());let{$$slots:l={},$$scope:r}=e,{visible:o}=e;i();const m=()=>{o.update(()=>!1)};return s.$$set=p=>{"visible"in p&&i(a(0,o=p.visible)),"$$scope"in p&&a(3,r=p.$$scope)},[o,t,m,r,l]}class ye extends re{constructor(e){super(),ue(this,e,dt,ct,oe,{visible:0})}}const Ee=async(s,e)=>{const a={tasks:{}};delete s.id,a.tasks[e]=s;const t=((Qe.currentUser||{}).uid||"").toString();return await st(Xe(Ye,"tasks",t),a,{merge:!0}).then(()=>{s.id=e;const i=et(de).filter(l=>l.id!==e).concat(s);return de.update(()=>i),alert("Success!"),"success"}).catch(i=>(alert("There was an issue completing your request. Please try again later."),console.log(i),"failure"))};let me;const ft=new Uint8Array(16);function ht(){if(!me&&(me=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!me))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return me(ft)}const F=[];for(let s=0;s<256;++s)F.push((s+256).toString(16).slice(1));function mt(s,e=0){return(F[s[e+0]]+F[s[e+1]]+F[s[e+2]]+F[s[e+3]]+"-"+F[s[e+4]]+F[s[e+5]]+"-"+F[s[e+6]]+F[s[e+7]]+"-"+F[s[e+8]]+F[s[e+9]]+"-"+F[s[e+10]]+F[s[e+11]]+F[s[e+12]]+F[s[e+13]]+F[s[e+14]]+F[s[e+15]]).toLowerCase()}const pt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Be={randomUUID:pt};function Ve(s,e,a){if(Be.randomUUID&&!e&&!s)return Be.randomUUID();s=s||{};const t=s.random||(s.rng||ht)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,e){a=a||0;for(let n=0;n<16;++n)e[a+n]=t[n];return e}return mt(t)}function _t(s){let e,a=s[4].message+"",t,n,i;return{c(){e=g("div"),t=B(a)},l(l){e=$(l,"DIV",{});var r=U(e);t=V(r,a),r.forEach(f)},m(l,r){A(l,e,r),u(e,t),i=!0},p:J,i(l){i||(He(()=>{n||(n=pe(e,_e,{},!0)),n.run(1)}),i=!0)},o(l){n||(n=pe(e,_e,{},!1)),n.run(0),i=!1},d(l){l&&f(e),l&&n&&n.end()}}}function Pe(s){let e,a,t,n;return{c(){e=g("button"),a=B("Delete")},l(i){e=$(i,"BUTTON",{});var l=U(e);a=V(l,"Delete"),l.forEach(f)},m(i,l){A(i,e,l),u(e,a),t||(n=z(e,"click",ie(s[3])),t=!0)},p:J,d(i){i&&f(e),t=!1,n()}}}function vt(s){let e,a=s[1].name.length>0?`Edit task: ${s[1].name}`:"Add task",t,n,i,l,r,o,m,p,h,c,d,S,I,_,y,k,v,E,N,q,P,w,K,b,T,L,Y,Q,se,ne,X=s[4]&&_t(s),R=s[1].name.length>0&&Pe(s);return{c(){e=g("h2"),t=B(a),n=O(),i=g("form"),l=g("div"),r=g("label"),o=B("Name"),m=O(),p=g("input"),c=O(),d=g("label"),S=B("History"),I=O(),_=g("input"),k=O(),v=g("label"),E=B("Scheduled"),N=O(),q=g("input"),w=O(),X&&X.c(),K=O(),b=g("div"),T=g("button"),L=B("Save"),Y=O(),R&&R.c(),this.h()},l(j){e=$(j,"H2",{});var M=U(e);t=V(M,a),M.forEach(f),n=C(j),i=$(j,"FORM",{});var ae=U(i);l=$(ae,"DIV",{class:!0});var G=U(l);r=$(G,"LABEL",{for:!0,class:!0});var Te=U(r);o=V(Te,"Name"),Te.forEach(f),m=C(G),p=$(G,"INPUT",{id:!0,type:!0,class:!0}),c=C(G),d=$(G,"LABEL",{for:!0,class:!0});var Se=U(d);S=V(Se,"History"),Se.forEach(f),I=C(G),_=$(G,"INPUT",{id:!0,type:!0,class:!0}),k=C(G),v=$(G,"LABEL",{for:!0,class:!0});var Ie=U(v);E=V(Ie,"Scheduled"),Ie.forEach(f),N=C(G),q=$(G,"INPUT",{id:!0,type:!0,class:!0}),G.forEach(f),w=C(ae),X&&X.l(ae),K=C(ae),b=$(ae,"DIV",{});var he=U(b);T=$(he,"BUTTON",{type:!0});var we=U(T);L=V(we,"Save"),we.forEach(f),Y=C(he),R&&R.l(he),he.forEach(f),ae.forEach(f),this.h()},h(){D(r,"for","name"),D(r,"class","svelte-1roqpq3"),D(p,"id","name"),D(p,"type","name"),p.value=h=s[1].name,p.required=!0,D(p,"class","svelte-1roqpq3"),D(d,"for","history"),D(d,"class","svelte-1roqpq3"),D(_,"id","history"),D(_,"type","history"),_.value=y=s[1].history.join(","),D(_,"class","svelte-1roqpq3"),D(v,"for","scheduled"),D(v,"class","svelte-1roqpq3"),D(q,"id","scheduled"),D(q,"type","scheduled"),q.value=P=s[1].scheduled.join(","),D(q,"class","svelte-1roqpq3"),D(l,"class","formClass svelte-1roqpq3"),D(T,"type","submit")},m(j,M){A(j,e,M),u(e,t),A(j,n,M),A(j,i,M),u(i,l),u(l,r),u(r,o),u(l,m),u(l,p),u(l,c),u(l,d),u(d,S),u(l,I),u(l,_),u(l,k),u(l,v),u(v,E),u(l,N),u(l,q),u(i,w),X&&X.m(i,null),u(i,K),u(i,b),u(b,T),u(T,L),u(b,Y),R&&R.m(b,null),Q=!0,se||(ne=z(i,"submit",ie(s[6])),se=!0)},p(j,M){(!Q||M&2)&&a!==(a=j[1].name.length>0?`Edit task: ${j[1].name}`:"Add task")&&le(t,a),(!Q||M&2&&h!==(h=j[1].name)&&p.value!==h)&&(p.value=h),(!Q||M&2&&y!==(y=j[1].history.join(","))&&_.value!==y)&&(_.value=y),(!Q||M&2&&P!==(P=j[1].scheduled.join(","))&&q.value!==P)&&(q.value=P),j[4]&&X.p(j,M),j[1].name.length>0?R?R.p(j,M):(R=Pe(j),R.c(),R.m(b,null)):R&&(R.d(1),R=null)},i(j){Q||(H(X),Q=!0)},o(j){W(X),Q=!1},d(j){j&&f(e),j&&f(n),j&&f(i),X&&X.d(),R&&R.d(),se=!1,ne()}}}function bt(s){let e=s[1].id+"",a,t,n,i;return n=new ye({props:{visible:s[0],$$slots:{default:[vt]},$$scope:{ctx:s}}}),{c(){a=B(e),t=O(),Z(n.$$.fragment)},l(l){a=V(l,e),t=C(l),x(n.$$.fragment,l)},m(l,r){A(l,a,r),A(l,t,r),ee(n,l,r),i=!0},p(l,[r]){(!i||r&2)&&e!==(e=l[1].id+"")&&le(a,e);const o={};r&1&&(o.visible=l[0]),r&2050&&(o.$$scope={dirty:r,ctx:l}),n.$set(o)},i(l){i||(H(n.$$.fragment,l),i=!0)},o(l){W(n.$$.fragment,l),i=!1},d(l){l&&f(a),l&&f(t),te(n,l)}}}function gt(s,e,a){let t,n,i,l=J,r=()=>(l(),l=ve(p,_=>a(8,i=_)),p),o,m;ce(s,$e,_=>a(5,o=_)),ce(s,de,_=>a(9,m=_)),s.$$.on_destroy.push(()=>l());let{visible:p}=e;r();const h=()=>{let _=Ve().split("-")[0];const y=m.map(k=>k.id);for(;y.includes(_);)_=Ve().split("-")[0];return _},c=async(_,y)=>{const{name:k,history:v,scheduled:E}=_.target.elements;let N={name:k.value,history:v.value.split(",").map(P=>P.trim()).filter(P=>P!==""),scheduled:E.value.split(",").map(P=>P.trim()).filter(P=>P!=="")};await Ee(N,y)==="success"&&p.update(()=>!1)},d=async()=>{if(!confirm(`Are you sure you want to delete task "${n.name}"?`))return;let y={};y[`tasks.${n.id}`]=nt(),await at(Xe(Ye,"tasks",`${Qe.currentUser.uid}`),y).then(()=>{de.update(k=>k.filter(v=>v.id!==n.id)),p.update(()=>!1),alert("Deletion successful")}).catch(k=>{alert("There was an issue completing your request. Please try again later."),console.log(k)})};let S;ge(()=>{i&&t==="add"&&document.getElementById("name").focus()});const I=_=>c(_,n.id);return s.$$set=_=>{"visible"in _&&r(a(0,p=_.visible))},s.$$.update=()=>{s.$$.dirty&32&&(t=o?"edit":"add"),s.$$.dirty&32&&a(1,n=o||{name:"",history:[],scheduled:[],id:h()})},[p,n,c,d,S,o,I]}class $t extends re{constructor(e){super(),ue(this,e,gt,bt,oe,{visible:0})}}function Le(s){let e,a,t,n;return{c(){e=g("button"),a=B("Scheduled")},l(i){e=$(i,"BUTTON",{});var l=U(e);a=V(l,"Scheduled"),l.forEach(f)},m(i,l){A(i,e,l),u(e,a),t||(n=z(e,"click",ie(s[8])),t=!0)},p:J,d(i){i&&f(e),t=!1,n()}}}function kt(s){let e,a,t=s[1].name+"",n,i,l,r,o,m,p,h,c,d,S,I,_,y,k=s[2]!==void 0&&Le(s);return{c(){e=g("h2"),a=B("Complete task: "),n=B(t),i=O(),l=g("form"),r=g("input"),o=O(),m=g("button"),p=B("Today"),h=O(),k&&k.c(),c=O(),d=g("div"),S=g("button"),I=B("Save"),this.h()},l(v){e=$(v,"H2",{});var E=U(e);a=V(E,"Complete task: "),n=V(E,t),E.forEach(f),i=C(v),l=$(v,"FORM",{});var N=U(l);r=$(N,"INPUT",{id:!0,class:!0,name:!0,type:!0}),o=C(N),m=$(N,"BUTTON",{});var q=U(m);p=V(q,"Today"),q.forEach(f),h=C(N),k&&k.l(N),c=C(N),d=$(N,"DIV",{});var P=U(d);S=$(P,"BUTTON",{});var w=U(S);I=V(w,"Save"),w.forEach(f),P.forEach(f),N.forEach(f),this.h()},h(){D(r,"id","completeDatePicker"),D(r,"class","datePicker"),D(r,"name","newComplete"),D(r,"type","date"),r.value=s[4],r.required=!0},m(v,E){A(v,e,E),u(e,a),u(e,n),A(v,i,E),A(v,l,E),u(l,r),u(l,o),u(l,m),u(m,p),u(l,h),k&&k.m(l,null),u(l,c),u(l,d),u(d,S),u(S,I),_||(y=[z(m,"click",ie(s[7])),z(l,"submit",ie(s[9]))],_=!0)},p(v,E){E&2&&t!==(t=v[1].name+"")&&le(n,t),v[2]!==void 0?k?k.p(v,E):(k=Le(v),k.c(),k.m(l,c)):k&&(k.d(1),k=null)},d(v){v&&f(e),v&&f(i),v&&f(l),k&&k.d(),_=!1,be(y)}}}function yt(s){let e,a;return e=new ye({props:{visible:s[0],$$slots:{default:[kt]},$$scope:{ctx:s}}}),{c(){Z(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,n){ee(e,t,n),a=!0},p(t,[n]){const i={};n&1&&(i.visible=t[0]),n&4102&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){a||(H(e.$$.fragment,t),a=!0)},o(t){W(e.$$.fragment,t),a=!1},d(t){te(e,t)}}}function Et(s,e,a){let t,n,i,l=J,r=()=>(l(),l=ve(m,y=>a(10,i=y)),m),o;ce(s,Me,y=>a(6,o=y)),s.$$.on_destroy.push(()=>l());let{visible:m}=e;r();const p=async y=>{const{newComplete:k}=y.target.elements;t.history.push(k.value.replaceAll("-","")),t.history.sort((E,N)=>E<N?-1:1),await Ee(t,t.id)==="success"&&m.update(()=>!1)},h=new Date().toISOString().slice(0,10),c=y=>{if(((y||{}).scheduled||[]).length!=0)return new Date(fe(y.scheduled[0])).toISOString().slice(0,10)},d=y=>{const k=document.getElementById("completeDatePicker");k.value=y};ge(()=>{i&&document.getElementById("completeDatePicker").focus()});const S=()=>d(h),I=()=>d(n),_=y=>p(y);return s.$$set=y=>{"visible"in y&&r(a(0,m=y.visible))},s.$$.update=()=>{s.$$.dirty&64&&a(1,t=o),s.$$.dirty&2&&a(2,n=c(t))},[m,t,n,p,h,d,o,S,I,_]}class Tt extends re{constructor(e){super(),ue(this,e,Et,yt,oe,{visible:0})}}function St(s){let e,a,t=s[1].name+"",n,i,l,r,o,m,p,h,c;return{c(){e=g("h2"),a=B("Schedule task: "),n=B(t),i=O(),l=g("form"),r=g("input"),o=O(),m=g("button"),p=B("Save"),this.h()},l(d){e=$(d,"H2",{});var S=U(e);a=V(S,"Schedule task: "),n=V(S,t),S.forEach(f),i=C(d),l=$(d,"FORM",{});var I=U(l);r=$(I,"INPUT",{id:!0,class:!0,name:!0,type:!0}),o=C(I),m=$(I,"BUTTON",{});var _=U(m);p=V(_,"Save"),_.forEach(f),I.forEach(f),this.h()},h(){D(r,"id","scheduleDatePicker"),D(r,"class","datePicker"),D(r,"name","newComplete"),D(r,"type","date"),r.value=s[3],r.required=!0},m(d,S){A(d,e,S),u(e,a),u(e,n),A(d,i,S),A(d,l,S),u(l,r),u(l,o),u(l,m),u(m,p),h||(c=z(l,"submit",ie(s[5])),h=!0)},p(d,S){S&2&&t!==(t=d[1].name+"")&&le(n,t)},d(d){d&&f(e),d&&f(i),d&&f(l),h=!1,c()}}}function It(s){let e,a;return e=new ye({props:{visible:s[0],$$slots:{default:[St]},$$scope:{ctx:s}}}),{c(){Z(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,n){ee(e,t,n),a=!0},p(t,[n]){const i={};n&1&&(i.visible=t[0]),n&130&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){a||(H(e.$$.fragment,t),a=!0)},o(t){W(e.$$.fragment,t),a=!1},d(t){te(e,t)}}}function wt(s,e,a){let t,n,i=J,l=()=>(i(),i=ve(o,c=>a(6,n=c)),o),r;ce(s,ze,c=>a(4,r=c)),s.$$.on_destroy.push(()=>i());let{visible:o}=e;l();const m=async c=>{const{newComplete:d}=c.target.elements;t.scheduled.push(d.value.replaceAll("-","")),t.scheduled.sort((I,_)=>I<_?-1:1),await Ee(t,t.id)==="success"&&o.update(()=>!1)},p=new Date().toISOString().slice(0,10);ge(()=>{n&&document.getElementById("scheduleDatePicker").focus()});const h=c=>m(c);return s.$$set=c=>{"visible"in c&&l(a(0,o=c.visible))},s.$$.update=()=>{s.$$.dirty&16&&a(1,t=r)},[o,t,m,p,r,h]}class Dt extends re{constructor(e){super(),ue(this,e,wt,It,oe,{visible:0})}}function je(s,e,a){const t=s.slice();return t[6]=e[a],t}function Ae(s){let e,a,t,n,i;return a=new ot({props:{task:s[6]}}),{c(){e=g("div"),Z(a.$$.fragment),t=O()},l(l){e=$(l,"DIV",{});var r=U(e);x(a.$$.fragment,r),t=C(r),r.forEach(f)},m(l,r){A(l,e,r),ee(a,e,null),u(e,t),i=!0},p(l,r){const o={};r&2&&(o.task=l[6]),a.$set(o)},i(l){i||(H(a.$$.fragment,l),He(()=>{n||(n=pe(e,_e,{},!0)),n.run(1)}),i=!0)},o(l){W(a.$$.fragment,l),n||(n=pe(e,_e,{},!1)),n.run(0),i=!1},d(l){l&&f(e),te(a),l&&n&&n.end()}}}function Ut(s){let e,a,t,n,i,l,r,o,m,p,h,c,d,S,I,_,y,k,v,E,N,q;a=new $t({props:{visible:ke}}),n=new Tt({props:{visible:We}}),l=new Dt({props:{visible:Ge}});let P=s[1],w=[];for(let b=0;b<P.length;b+=1)w[b]=Ae(je(s,P,b));const K=b=>W(w[b],1,1,()=>{w[b]=null});return{c(){e=g("div"),Z(a.$$.fragment),t=O(),Z(n.$$.fragment),i=O(),Z(l.$$.fragment),r=O(),o=g("span"),m=B("Search:"),p=O(),h=g("input"),c=O(),d=g("div");for(let b=0;b<w.length;b+=1)w[b].c();S=O(),I=g("button"),_=B("Add Task"),y=O(),k=g("button"),v=B("Log Out"),this.h()},l(b){e=$(b,"DIV",{class:!0});var T=U(e);x(a.$$.fragment,T),t=C(T),x(n.$$.fragment,T),i=C(T),x(l.$$.fragment,T),r=C(T),o=$(T,"SPAN",{style:!0});var L=U(o);m=V(L,"Search:"),L.forEach(f),p=C(T),h=$(T,"INPUT",{class:!0}),c=C(T),d=$(T,"DIV",{class:!0});var Y=U(d);for(let ne=0;ne<w.length;ne+=1)w[ne].l(Y);Y.forEach(f),S=C(T),I=$(T,"BUTTON",{});var Q=U(I);_=V(Q,"Add Task"),Q.forEach(f),y=C(T),k=$(T,"BUTTON",{});var se=U(k);v=V(se,"Log Out"),se.forEach(f),T.forEach(f),this.h()},h(){tt(o,"font-weight","bold"),D(h,"class","svelte-1n2mbq2"),D(d,"class","taskList svelte-1n2mbq2"),D(e,"class","mainContent svelte-1n2mbq2")},m(b,T){A(b,e,T),ee(a,e,null),u(e,t),ee(n,e,null),u(e,i),ee(l,e,null),u(e,r),u(e,o),u(o,m),u(e,p),u(e,h),Ne(h,s[0]),u(e,c),u(e,d);for(let L=0;L<w.length;L+=1)w[L].m(d,null);u(e,S),u(e,I),u(I,_),u(e,y),u(e,k),u(k,v),E=!0,N||(q=[z(h,"input",s[3]),z(I,"click",s[4]),z(k,"click",it)],N=!0)},p(b,[T]){if(T&1&&h.value!==b[0]&&Ne(h,b[0]),T&2){P=b[1];let L;for(L=0;L<P.length;L+=1){const Y=je(b,P,L);w[L]?(w[L].p(Y,T),H(w[L],1)):(w[L]=Ae(Y),w[L].c(),H(w[L],1),w[L].m(d,null))}for(Fe(),L=P.length;L<w.length;L+=1)K(L);Re()}},i(b){if(!E){H(a.$$.fragment,b),H(n.$$.fragment,b),H(l.$$.fragment,b);for(let T=0;T<P.length;T+=1)H(w[T]);E=!0}},o(b){W(a.$$.fragment,b),W(n.$$.fragment,b),W(l.$$.fragment,b),w=w.filter(Boolean);for(let T=0;T<w.length;T+=1)W(w[T]);E=!1},d(b){b&&f(e),te(a),te(n),te(l),lt(w,b),N=!1,be(q)}}}function Nt(s,e,a){let t,n;ce(s,de,m=>a(2,n=m));let i="";const l=(m,p)=>m.filter(h=>h.name.toLowerCase().includes(p.toLowerCase())).map(h=>(h.scheduled=h.scheduled||[],h.history=h.history||[],h)).sort((h,c)=>{const d=S=>S.scheduled.concat(["99999999"])[0];return d(h)<d(c)?-1:1});function r(){i=this.value,a(0,i)}const o=()=>{$e.update(m=>{if(m===void 0)return null}),ke.update(()=>!0)};return s.$$.update=()=>{s.$$.dirty&5&&a(1,t=l(n,i))},[i,t,n,r,o]}class Ct extends re{constructor(e){super(),ue(this,e,Nt,Ut,oe,{})}}export{Ct as default};
