import{S as de,i as fe,s as he,k as p,q as C,a as N,l as v,m as T,r as O,h as f,c as U,n as S,b as j,F as o,G as z,u as re,E as ee,R as pe,T as Ve,e as be,f as R,g as $e,t as W,d as ye,L as tt,M as lt,N as st,O as nt,U as ke,w as te,x as le,y as se,z as ne,Q as _e,j as Ee,H as x,I as Te,V as ue,p as Ge,W as Pe,X as rt}from"../../chunks/index-21a754b2.js";import{c as Se,e as Ie,g as Qe,h as Xe,i as Je,j as Ke,m as at,s as Ye,d as Ze,C as it,k as ot,a as ut,t as xe,f as ce,l as ct}from"../../chunks/index-e4d2e761.js";const me=n=>`${n.slice(0,4)}-${n.slice(4,6)}-${n.slice(6,8)}`;function Le(n){let e,a,t=me(n[0].history[n[0].history.length-1])+"",s;return{c(){e=p("div"),a=C("Last: "),s=C(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var l=T(e);a=O(l,"Last: "),s=O(l,t),l.forEach(f),this.h()},h(){S(e,"class","lastNext svelte-1rrhigf")},m(r,l){j(r,e,l),o(e,a),o(e,s)},p(r,l){l&1&&t!==(t=me(r[0].history[r[0].history.length-1])+"")&&re(s,t)},d(r){r&&f(e)}}}function Ae(n){let e,a,t=me(n[0].scheduled[0])+"",s;return{c(){e=p("div"),a=C("Next: "),s=C(t),this.h()},l(r){e=v(r,"DIV",{class:!0});var l=T(e);a=O(l,"Next: "),s=O(l,t),l.forEach(f),this.h()},h(){S(e,"class","lastNext svelte-1rrhigf"),Ve(e,"overdue",n[1]>=n[0].scheduled[0])},m(r,l){j(r,e,l),o(e,a),o(e,s)},p(r,l){l&1&&t!==(t=me(r[0].scheduled[0])+"")&&re(s,t),l&3&&Ve(e,"overdue",r[1]>=r[0].scheduled[0])},d(r){r&&f(e)}}}function dt(n){let e,a,t=n[0].name+"",s,r,l,i,u,c,b,k,w,h,_,g,D,d,$,y=n[0].history.length>0&&Le(n),I=n[0].scheduled.length>0&&Ae(n);return{c(){e=p("div"),a=p("div"),s=C(t),r=N(),y&&y.c(),l=N(),I&&I.c(),i=N(),u=p("div"),c=p("button"),b=C("Edit"),k=N(),w=p("button"),h=C("Complete"),_=N(),g=p("button"),D=C("Schedule"),this.h()},l(E){e=v(E,"DIV",{class:!0});var m=T(e);a=v(m,"DIV",{class:!0});var L=T(a);s=O(L,t),L.forEach(f),r=U(m),y&&y.l(m),l=U(m),I&&I.l(m),i=U(m),u=v(m,"DIV",{});var q=T(u);c=v(q,"BUTTON",{class:!0});var Q=T(c);b=O(Q,"Edit"),Q.forEach(f),k=U(q),w=v(q,"BUTTON",{class:!0});var V=T(w);h=O(V,"Complete"),V.forEach(f),_=U(q),g=v(q,"BUTTON",{class:!0});var M=T(g);D=O(M,"Schedule"),M.forEach(f),q.forEach(f),m.forEach(f),this.h()},h(){S(a,"class","taskName svelte-1rrhigf"),S(c,"class","svelte-1rrhigf"),S(w,"class","svelte-1rrhigf"),S(g,"class","svelte-1rrhigf"),S(e,"class","taskWrapper svelte-1rrhigf")},m(E,m){j(E,e,m),o(e,a),o(a,s),o(e,r),y&&y.m(e,null),o(e,l),I&&I.m(e,null),o(e,i),o(e,u),o(u,c),o(c,b),o(u,k),o(u,w),o(w,h),o(u,_),o(u,g),o(g,D),d||($=[z(c,"click",n[2]),z(w,"click",n[3]),z(g,"click",n[4])],d=!0)},p(E,[m]){m&1&&t!==(t=E[0].name+"")&&re(s,t),E[0].history.length>0?y?y.p(E,m):(y=Le(E),y.c(),y.m(e,l)):y&&(y.d(1),y=null),E[0].scheduled.length>0?I?I.p(E,m):(I=Ae(E),I.c(),I.m(e,i)):I&&(I.d(1),I=null)},i:ee,o:ee,d(E){E&&f(e),y&&y.d(),I&&I.d(),d=!1,pe($)}}}function ft(n,e,a){let{task:t}=e;const r=new Date().toISOString().slice(0,10).replaceAll("-",""),l=()=>{Se.update(()=>t),Ie.update(()=>!0)},i=()=>{Qe.update(()=>t),Xe.update(()=>!0)},u=()=>{Je.update(()=>t),Ke.update(()=>!0)};return n.$$set=c=>{"task"in c&&a(0,t=c.task)},[t,r,l,i,u]}class ht extends de{constructor(e){super(),fe(this,e,ft,dt,he,{task:0})}}function je(n){let e,a,t;const s=n[3].default,r=tt(s,n,n[2],null);return{c(){e=p("div"),a=p("div"),r&&r.c(),this.h()},l(l){e=v(l,"DIV",{class:!0});var i=T(e);a=v(i,"DIV",{class:!0});var u=T(a);r&&r.l(u),u.forEach(f),i.forEach(f),this.h()},h(){S(a,"class","modalContent svelte-1qejjfe"),S(e,"class","modalBackground svelte-1qejjfe")},m(l,i){j(l,e,i),o(e,a),r&&r.m(a,null),t=!0},p(l,i){r&&r.p&&(!t||i&4)&&lt(r,s,l,l[2],t?nt(s,l[2],i,null):st(l[2]),null)},i(l){t||(R(r,l),t=!0)},o(l){W(r,l),t=!1},d(l){l&&f(e),r&&r.d(l)}}}function _t(n){let e,a,t=n[1]&&je(n);return{c(){t&&t.c(),e=be()},l(s){t&&t.l(s),e=be()},m(s,r){t&&t.m(s,r),j(s,e,r),a=!0},p(s,[r]){s[1]?t?(t.p(s,r),r&2&&R(t,1)):(t=je(s),t.c(),R(t,1),t.m(e.parentNode,e)):t&&($e(),W(t,1,1,()=>{t=null}),ye())},i(s){a||(R(t),a=!0)},o(s){W(t),a=!1},d(s){t&&t.d(s),s&&f(e)}}}function mt(n,e,a){let t,s=ee,r=()=>(s(),s=ke(u,c=>a(1,t=c)),u);n.$$.on_destroy.push(()=>s());let{$$slots:l={},$$scope:i}=e,{visible:u}=e;return r(),n.$$set=c=>{"visible"in c&&r(a(0,u=c.visible)),"$$scope"in c&&a(2,i=c.$$scope)},[u,t,i,l]}class we extends de{constructor(e){super(),fe(this,e,mt,_t,he,{visible:0})}}const De=async(n,e)=>{const a={tasks:{}};delete n.id,a.tasks[e]=n;const t=et();return await at(Ye(Ze,"tasks",t),a,{merge:!0}).then(()=>(alert("Success!"),"success")).catch(r=>(alert("There was an issue completing your request. Please try again later."),console.log(r),"failure"))},pt=async n=>{if(!confirm(`Are you sure you want to delete task "${n.name}"?`))return;let a={};a[`tasks.${n.id}`]=it();const t=et();return await ot(Ye(Ze,"tasks",t),a).then(()=>(alert("Deletion successful"),"success")).catch(r=>(alert("There was an issue completing your request. Please try again later."),console.log(r),"failure"))},et=()=>((ut.currentUser||{}).uid||"").toString();let ve;const vt=new Uint8Array(16);function bt(){if(!ve&&(ve=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ve))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ve(vt)}const F=[];for(let n=0;n<256;++n)F.push((n+256).toString(16).slice(1));function kt(n,e=0){return(F[n[e+0]]+F[n[e+1]]+F[n[e+2]]+F[n[e+3]]+"-"+F[n[e+4]]+F[n[e+5]]+"-"+F[n[e+6]]+F[n[e+7]]+"-"+F[n[e+8]]+F[n[e+9]]+"-"+F[n[e+10]]+F[n[e+11]]+F[n[e+12]]+F[n[e+13]]+F[n[e+14]]+F[n[e+15]]).toLowerCase()}const gt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fe={randomUUID:gt};function Re(n,e,a){if(Fe.randomUUID&&!e&&!n)return Fe.randomUUID();n=n||{};const t=n.random||(n.rng||bt)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,e){a=a||0;for(let s=0;s<16;++s)e[a+s]=t[s];return e}return kt(t)}function $t(n){let e,a=n[4].message+"",t,s,r;return{c(){e=p("div"),t=C(a)},l(l){e=v(l,"DIV",{});var i=T(e);t=O(i,a),i.forEach(f)},m(l,i){j(l,e,i),o(e,t),r=!0},p:ee,i(l){r||(Te(()=>{s||(s=ue(e,ce,{},!0)),s.run(1)}),r=!0)},o(l){s||(s=ue(e,ce,{},!1)),s.run(0),r=!1},d(l){l&&f(e),l&&s&&s.end()}}}function He(n){let e,a,t,s;return{c(){e=p("button"),a=C("Delete")},l(r){e=v(r,"BUTTON",{});var l=T(e);a=O(l,"Delete"),l.forEach(f)},m(r,l){j(r,e,l),o(e,a),t||(s=z(e,"click",x(n[3])),t=!0)},p:ee,d(r){r&&f(e),t=!1,s()}}}function yt(n){let e,a=n[1].name.length>0?`Edit task: ${n[1].name}`:"Add task",t,s,r,l,i,u,c,b,k,w,h,_,g,D,d,$,y,I,E,m,L,q,Q,V,M,B,P,J,Z,ae,K,ge,Ne,Y=n[4]&&$t(n),H=n[1].name.length>0&&He(n);return{c(){e=p("h2"),t=C(a),s=N(),r=p("form"),l=p("div"),i=p("label"),u=C("Name"),c=N(),b=p("input"),w=N(),h=p("label"),_=C("History"),g=N(),D=p("input"),$=N(),y=p("label"),I=C("Scheduled"),E=N(),m=p("input"),q=N(),Y&&Y.c(),Q=N(),V=p("div"),M=p("button"),B=C("Save"),P=N(),H&&H.c(),J=N(),Z=p("button"),ae=C("Cancel"),this.h()},l(A){e=v(A,"H2",{});var G=T(e);t=O(G,a),G.forEach(f),s=U(A),r=v(A,"FORM",{});var ie=T(r);l=v(ie,"DIV",{class:!0});var X=T(l);i=v(X,"LABEL",{for:!0,class:!0});var Ue=T(i);u=O(Ue,"Name"),Ue.forEach(f),c=U(X),b=v(X,"INPUT",{id:!0,type:!0,class:!0}),w=U(X),h=v(X,"LABEL",{for:!0,class:!0});var Ce=T(h);_=O(Ce,"History"),Ce.forEach(f),g=U(X),D=v(X,"INPUT",{id:!0,type:!0,class:!0}),$=U(X),y=v(X,"LABEL",{for:!0,class:!0});var Oe=T(y);I=O(Oe,"Scheduled"),Oe.forEach(f),E=U(X),m=v(X,"INPUT",{id:!0,type:!0,class:!0}),X.forEach(f),q=U(ie),Y&&Y.l(ie),Q=U(ie),V=v(ie,"DIV",{});var oe=T(V);M=v(oe,"BUTTON",{type:!0});var qe=T(M);B=O(qe,"Save"),qe.forEach(f),P=U(oe),H&&H.l(oe),J=U(oe),Z=v(oe,"BUTTON",{});var Be=T(Z);ae=O(Be,"Cancel"),Be.forEach(f),oe.forEach(f),ie.forEach(f),this.h()},h(){S(i,"for","name"),S(i,"class","svelte-1roqpq3"),S(b,"id","name"),S(b,"type","name"),b.value=k=n[1].name,b.required=!0,S(b,"class","svelte-1roqpq3"),S(h,"for","history"),S(h,"class","svelte-1roqpq3"),S(D,"id","history"),S(D,"type","history"),D.value=d=n[1].history.join(","),S(D,"class","svelte-1roqpq3"),S(y,"for","scheduled"),S(y,"class","svelte-1roqpq3"),S(m,"id","scheduled"),S(m,"type","scheduled"),m.value=L=n[1].scheduled.join(","),S(m,"class","svelte-1roqpq3"),S(l,"class","formClass svelte-1roqpq3"),S(M,"type","submit")},m(A,G){j(A,e,G),o(e,t),j(A,s,G),j(A,r,G),o(r,l),o(l,i),o(i,u),o(l,c),o(l,b),o(l,w),o(l,h),o(h,_),o(l,g),o(l,D),o(l,$),o(l,y),o(y,I),o(l,E),o(l,m),o(r,q),Y&&Y.m(r,null),o(r,Q),o(r,V),o(V,M),o(M,B),o(V,P),H&&H.m(V,null),o(V,J),o(V,Z),o(Z,ae),K=!0,ge||(Ne=[z(Z,"click",x(n[6])),z(r,"submit",x(n[7]))],ge=!0)},p(A,G){(!K||G&2)&&a!==(a=A[1].name.length>0?`Edit task: ${A[1].name}`:"Add task")&&re(t,a),(!K||G&2&&k!==(k=A[1].name)&&b.value!==k)&&(b.value=k),(!K||G&2&&d!==(d=A[1].history.join(","))&&D.value!==d)&&(D.value=d),(!K||G&2&&L!==(L=A[1].scheduled.join(","))&&m.value!==L)&&(m.value=L),A[4]&&Y.p(A,G),A[1].name.length>0?H?H.p(A,G):(H=He(A),H.c(),H.m(V,J)):H&&(H.d(1),H=null)},i(A){K||(R(Y),K=!0)},o(A){W(Y),K=!1},d(A){A&&f(e),A&&f(s),A&&f(r),Y&&Y.d(),H&&H.d(),ge=!1,pe(Ne)}}}function Et(n){let e,a;return e=new we({props:{visible:n[0],$$slots:{default:[yt]},$$scope:{ctx:n}}}),{c(){te(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,s){se(e,t,s),a=!0},p(t,[s]){const r={};s&1&&(r.visible=t[0]),s&4099&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(R(e.$$.fragment,t),a=!0)},o(t){W(e.$$.fragment,t),a=!1},d(t){ne(e,t)}}}function Tt(n,e,a){let t,s,r,l=ee,i=()=>(l(),l=ke(b,d=>a(9,r=d)),b),u,c;_e(n,Se,d=>a(5,u=d)),_e(n,xe,d=>a(10,c=d)),n.$$.on_destroy.push(()=>l());let{visible:b}=e;i();const k=()=>{let d=Re().split("-")[0];const $=c.map(y=>y.id);for(;$.includes(d);)d=Re().split("-")[0];return d},w=async(d,$)=>{const{name:y,history:I,scheduled:E}=d.target.elements;let m={name:y.value,history:I.value.split(",").map(q=>q.trim()).filter(q=>q!==""),scheduled:E.value.split(",").map(q=>q.trim()).filter(q=>q!=="")};await De(m,$)==="success"&&b.update(()=>!1)},h=async()=>{await pt(s)==="success"&&b.update(()=>!1)};let _;Ee(()=>{r&&t==="add"&&document.getElementById("name").focus()});const g=()=>b.update(()=>!1),D=d=>w(d,s.id);return n.$$set=d=>{"visible"in d&&i(a(0,b=d.visible))},n.$$.update=()=>{n.$$.dirty&32&&(t=u?"edit":"add"),n.$$.dirty&32&&a(1,s=u||{name:"",history:[],scheduled:[],id:k()})},[b,s,w,h,_,u,g,D]}class St extends de{constructor(e){super(),fe(this,e,Tt,Et,he,{visible:0})}}function Me(n){let e,a,t,s,r,l,i,u,c=n[5](n[1])+"",b,k,w,h;return{c(){e=p("button"),a=C("Scheduled"),t=N(),s=p("div"),r=p("input"),l=N(),i=p("label"),u=C("Delete earliest date from schedule ("),b=C(c),k=C(")"),this.h()},l(_){e=v(_,"BUTTON",{});var g=T(e);a=O(g,"Scheduled"),g.forEach(f),t=U(_),s=v(_,"DIV",{class:!0});var D=T(s);r=v(D,"INPUT",{id:!0,type:!0}),l=U(D),i=v(D,"LABEL",{for:!0});var d=T(i);u=O(d,"Delete earliest date from schedule ("),b=O(d,c),k=O(d,")"),d.forEach(f),D.forEach(f),this.h()},h(){S(r,"id","delSchedCheck"),S(r,"type","checkbox"),r.checked=!0,S(i,"for","delSchedCheck"),S(s,"class","delCheckContainer svelte-x3rdst")},m(_,g){j(_,e,g),o(e,a),j(_,t,g),j(_,s,g),o(s,r),o(s,l),o(s,i),o(i,u),o(i,b),o(i,k),w||(h=z(e,"click",x(n[9])),w=!0)},p(_,g){g&2&&c!==(c=_[5](_[1])+"")&&re(b,c)},d(_){_&&f(e),_&&f(t),_&&f(s),w=!1,h()}}}function It(n){let e,a,t=n[1].name+"",s,r,l,i,u,c,b,k,w,h,_,g,D,d,$,y,I,E=n[2]!==void 0&&Me(n);return{c(){e=p("h2"),a=C("Complete task: "),s=C(t),r=N(),l=p("form"),i=p("input"),u=N(),c=p("button"),b=C("Today"),k=N(),E&&E.c(),w=N(),h=p("div"),_=p("button"),g=C("Save"),D=N(),d=p("button"),$=C("Cancel"),this.h()},l(m){e=v(m,"H2",{});var L=T(e);a=O(L,"Complete task: "),s=O(L,t),L.forEach(f),r=U(m),l=v(m,"FORM",{});var q=T(l);i=v(q,"INPUT",{id:!0,class:!0,name:!0,type:!0}),u=U(q),c=v(q,"BUTTON",{});var Q=T(c);b=O(Q,"Today"),Q.forEach(f),k=U(q),E&&E.l(q),w=U(q),h=v(q,"DIV",{});var V=T(h);_=v(V,"BUTTON",{});var M=T(_);g=O(M,"Save"),M.forEach(f),D=U(V),d=v(V,"BUTTON",{});var B=T(d);$=O(B,"Cancel"),B.forEach(f),V.forEach(f),q.forEach(f),this.h()},h(){S(i,"id","completeDatePicker"),S(i,"class","datePicker"),S(i,"name","newComplete"),S(i,"type","date"),i.value=n[4],i.required=!0},m(m,L){j(m,e,L),o(e,a),o(e,s),j(m,r,L),j(m,l,L),o(l,i),o(l,u),o(l,c),o(c,b),o(l,k),E&&E.m(l,null),o(l,w),o(l,h),o(h,_),o(_,g),o(h,D),o(h,d),o(d,$),y||(I=[z(c,"click",x(n[8])),z(d,"click",x(n[10])),z(l,"submit",x(n[11]))],y=!0)},p(m,L){L&2&&t!==(t=m[1].name+"")&&re(s,t),m[2]!==void 0?E?E.p(m,L):(E=Me(m),E.c(),E.m(l,w)):E&&(E.d(1),E=null)},d(m){m&&f(e),m&&f(r),m&&f(l),E&&E.d(),y=!1,pe(I)}}}function wt(n){let e,a;return e=new we({props:{visible:n[0],$$slots:{default:[It]},$$scope:{ctx:n}}}),{c(){te(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,s){se(e,t,s),a=!0},p(t,[s]){const r={};s&1&&(r.visible=t[0]),s&8199&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(R(e.$$.fragment,t),a=!0)},o(t){W(e.$$.fragment,t),a=!1},d(t){ne(e,t)}}}function Dt(n,e,a){let t,s,r,l=ee,i=()=>(l(),l=ke(c,$=>a(12,r=$)),c),u;_e(n,Qe,$=>a(7,u=$)),n.$$.on_destroy.push(()=>l());let{visible:c}=e;i();const b=async $=>{const{newComplete:y,delSchedCheck:I}=$.target.elements;t.history.push(y.value.replaceAll("-","")),t.history.sort((m,L)=>m<L?-1:1),(I||{}).checked&&a(1,t.scheduled=t.scheduled.slice(1),t),await De(t,t.id)==="success"&&c.update(()=>!1)},k=new Date().toISOString().slice(0,10),w=$=>{if((($||{}).scheduled||[]).length!=0)return new Date(me($.scheduled[0])).toISOString().slice(0,10)},h=$=>{const y=document.getElementById("completeDatePicker");y.value=$};Ee(()=>{r&&document.getElementById("completeDatePicker").focus()});const _=()=>h(k),g=()=>h(s),D=()=>c.update(()=>!1),d=$=>b($);return n.$$set=$=>{"visible"in $&&i(a(0,c=$.visible))},n.$$.update=()=>{n.$$.dirty&128&&a(1,t=u),n.$$.dirty&2&&a(2,s=w(t))},[c,t,s,b,k,w,h,u,_,g,D,d]}class Nt extends de{constructor(e){super(),fe(this,e,Dt,wt,he,{visible:0})}}function Ut(n){let e,a,t=n[1].name+"",s,r,l,i,u,c,b,k,w,h,_,g,D;return{c(){e=p("h2"),a=C("Schedule task: "),s=C(t),r=N(),l=p("form"),i=p("input"),u=N(),c=p("div"),b=p("button"),k=C("Save"),w=N(),h=p("button"),_=C("Cancel"),this.h()},l(d){e=v(d,"H2",{});var $=T(e);a=O($,"Schedule task: "),s=O($,t),$.forEach(f),r=U(d),l=v(d,"FORM",{});var y=T(l);i=v(y,"INPUT",{id:!0,class:!0,name:!0,type:!0}),u=U(y),c=v(y,"DIV",{});var I=T(c);b=v(I,"BUTTON",{});var E=T(b);k=O(E,"Save"),E.forEach(f),w=U(I),h=v(I,"BUTTON",{});var m=T(h);_=O(m,"Cancel"),m.forEach(f),I.forEach(f),y.forEach(f),this.h()},h(){S(i,"id","scheduleDatePicker"),S(i,"class","datePicker"),S(i,"name","newComplete"),S(i,"type","date"),i.value=n[3],i.required=!0},m(d,$){j(d,e,$),o(e,a),o(e,s),j(d,r,$),j(d,l,$),o(l,i),o(l,u),o(l,c),o(c,b),o(b,k),o(c,w),o(c,h),o(h,_),g||(D=[z(h,"click",x(n[5])),z(l,"submit",x(n[6]))],g=!0)},p(d,$){$&2&&t!==(t=d[1].name+"")&&re(s,t)},d(d){d&&f(e),d&&f(r),d&&f(l),g=!1,pe(D)}}}function Ct(n){let e,a;return e=new we({props:{visible:n[0],$$slots:{default:[Ut]},$$scope:{ctx:n}}}),{c(){te(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,s){se(e,t,s),a=!0},p(t,[s]){const r={};s&1&&(r.visible=t[0]),s&259&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(R(e.$$.fragment,t),a=!0)},o(t){W(e.$$.fragment,t),a=!1},d(t){ne(e,t)}}}function Ot(n,e,a){let t,s,r=ee,l=()=>(r(),r=ke(u,h=>a(7,s=h)),u),i;_e(n,Je,h=>a(4,i=h)),n.$$.on_destroy.push(()=>r());let{visible:u}=e;l();const c=async h=>{const{newComplete:_}=h.target.elements;t.scheduled.push(_.value.replaceAll("-","")),t.scheduled.sort((D,d)=>D<d?-1:1),await De(t,t.id)==="success"&&u.update(()=>!1)},b=new Date().toISOString().slice(0,10);Ee(()=>{s&&document.getElementById("scheduleDatePicker").focus()});const k=()=>u.update(()=>!1),w=h=>c(h);return n.$$set=h=>{"visible"in h&&l(a(0,u=h.visible))},n.$$.update=()=>{n.$$.dirty&16&&a(1,t=i)},[u,t,c,b,i,k,w]}class qt extends de{constructor(e){super(),fe(this,e,Ot,Ct,he,{visible:0})}}function We(n,e,a){const t=n.slice();return t[6]=e[a],t}function Bt(n){let e,a,t,s;return{c(){e=p("div"),a=C("No tasks to show"),this.h()},l(r){e=v(r,"DIV",{style:!0});var l=T(e);a=O(l,"No tasks to show"),l.forEach(f),this.h()},h(){Ge(e,"font-style","italic")},m(r,l){j(r,e,l),o(e,a),s=!0},p:ee,i(r){s||(Te(()=>{t||(t=ue(e,ce,{},!0)),t.run(1)}),s=!0)},o(r){t||(t=ue(e,ce,{},!1)),t.run(0),s=!1},d(r){r&&f(e),r&&t&&t.end()}}}function Vt(n){let e,a,t=n[1],s=[];for(let l=0;l<t.length;l+=1)s[l]=ze(We(n,t,l));const r=l=>W(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=be()},l(l){for(let i=0;i<s.length;i+=1)s[i].l(l);e=be()},m(l,i){for(let u=0;u<s.length;u+=1)s[u].m(l,i);j(l,e,i),a=!0},p(l,i){if(i&2){t=l[1];let u;for(u=0;u<t.length;u+=1){const c=We(l,t,u);s[u]?(s[u].p(c,i),R(s[u],1)):(s[u]=ze(c),s[u].c(),R(s[u],1),s[u].m(e.parentNode,e))}for($e(),u=t.length;u<s.length;u+=1)r(u);ye()}},i(l){if(!a){for(let i=0;i<t.length;i+=1)R(s[i]);a=!0}},o(l){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)W(s[i]);a=!1},d(l){rt(s,l),l&&f(e)}}}function ze(n){let e,a,t,s,r;return a=new ht({props:{task:n[6]}}),{c(){e=p("div"),te(a.$$.fragment),t=N()},l(l){e=v(l,"DIV",{});var i=T(e);le(a.$$.fragment,i),t=U(i),i.forEach(f)},m(l,i){j(l,e,i),se(a,e,null),o(e,t),r=!0},p(l,i){const u={};i&2&&(u.task=l[6]),a.$set(u)},i(l){r||(R(a.$$.fragment,l),Te(()=>{s||(s=ue(e,ce,{},!0)),s.run(1)}),r=!0)},o(l){W(a.$$.fragment,l),s||(s=ue(e,ce,{},!1)),s.run(0),r=!1},d(l){l&&f(e),ne(a),l&&s&&s.end()}}}function Pt(n){let e,a,t,s,r,l,i,u,c,b,k,w,h,_,g,D,d,$,y,I,E,m,L,q;a=new St({props:{visible:Ie}}),s=new Nt({props:{visible:Xe}}),l=new qt({props:{visible:Ke}});const Q=[Vt,Bt],V=[];function M(B,P){return B[1].length>0?0:1}return _=M(n),g=V[_]=Q[_](n),{c(){e=p("div"),te(a.$$.fragment),t=N(),te(s.$$.fragment),r=N(),te(l.$$.fragment),i=N(),u=p("span"),c=C("Search:"),b=N(),k=p("input"),w=N(),h=p("div"),g.c(),D=N(),d=p("button"),$=C("Add Task"),y=N(),I=p("button"),E=C("Log Out"),this.h()},l(B){e=v(B,"DIV",{class:!0});var P=T(e);le(a.$$.fragment,P),t=U(P),le(s.$$.fragment,P),r=U(P),le(l.$$.fragment,P),i=U(P),u=v(P,"SPAN",{style:!0});var J=T(u);c=O(J,"Search:"),J.forEach(f),b=U(P),k=v(P,"INPUT",{class:!0}),w=U(P),h=v(P,"DIV",{class:!0});var Z=T(h);g.l(Z),Z.forEach(f),D=U(P),d=v(P,"BUTTON",{});var ae=T(d);$=O(ae,"Add Task"),ae.forEach(f),y=U(P),I=v(P,"BUTTON",{});var K=T(I);E=O(K,"Log Out"),K.forEach(f),P.forEach(f),this.h()},h(){Ge(u,"font-weight","bold"),S(k,"class","svelte-1n2mbq2"),S(h,"class","taskList svelte-1n2mbq2"),S(e,"class","mainContent svelte-1n2mbq2")},m(B,P){j(B,e,P),se(a,e,null),o(e,t),se(s,e,null),o(e,r),se(l,e,null),o(e,i),o(e,u),o(u,c),o(e,b),o(e,k),Pe(k,n[0]),o(e,w),o(e,h),V[_].m(h,null),o(e,D),o(e,d),o(d,$),o(e,y),o(e,I),o(I,E),m=!0,L||(q=[z(k,"input",n[3]),z(d,"click",n[4]),z(I,"click",ct)],L=!0)},p(B,[P]){P&1&&k.value!==B[0]&&Pe(k,B[0]);let J=_;_=M(B),_===J?V[_].p(B,P):($e(),W(V[J],1,1,()=>{V[J]=null}),ye(),g=V[_],g?g.p(B,P):(g=V[_]=Q[_](B),g.c()),R(g,1),g.m(h,null))},i(B){m||(R(a.$$.fragment,B),R(s.$$.fragment,B),R(l.$$.fragment,B),R(g),m=!0)},o(B){W(a.$$.fragment,B),W(s.$$.fragment,B),W(l.$$.fragment,B),W(g),m=!1},d(B){B&&f(e),ne(a),ne(s),ne(l),V[_].d(),L=!1,pe(q)}}}function Lt(n,e,a){let t,s;_e(n,xe,c=>a(2,s=c));let r="";const l=(c,b)=>c.filter(k=>k.name.toLowerCase().includes(b.toLowerCase())).map(k=>(k.scheduled=k.scheduled||[],k.history=k.history||[],k)).sort((k,w)=>{const h=_=>_.scheduled.concat(["99999999"])[0];return h(k)<h(w)?-1:1});function i(){r=this.value,a(0,r)}const u=()=>{Se.update(c=>{if(c===void 0)return null}),Ie.update(()=>!0)};return n.$$.update=()=>{n.$$.dirty&5&&a(1,t=l(s,r))},[r,t,s,i,u]}class Ft extends de{constructor(e){super(),fe(this,e,Lt,Pt,he,{})}}export{Ft as default};
